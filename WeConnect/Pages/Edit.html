<!DOCTYPE html>
<!-- saved from url=(0045)https://mohamadhijazi.github.io/NewsPage.html -->
<html>

<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <title>Innovation</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="manifest" href="../manifest.json">
  <meta name="theme-color" content="white"/>
  <link rel="icon" href="favicon.ico" type="image/x-icon" />  
<link rel="apple-touch-icon" href="images/hello-icon-152.png">   
<meta name="theme-color" content="white"/>  
<meta name="apple-mobile-web-app-capable" content="yes">  
<meta name="apple-mobile-web-app-status-bar-style" content="black"> 
<meta name="apple-mobile-web-app-title" content="Hello World"> 
<meta name="msapplication-TileImage" content="images/hello-icon-144.png">  
<meta name="msapplication-TileColor" content="#FFFFFF">

  <!-- Load required Bootstrap and BootstrapVue CSS -->
  <link type="text/css" rel="stylesheet" href="../Innovation_files/bootstrap.min.css">
  <link type="text/css" rel="stylesheet" href="../Innovation_files/bootstrap-vue.min.css">

  <link href="../Innovation_files/custom.css" rel="stylesheet">
  <!-- Load polyfills to support older browsers -->
  <script src="../Innovation_files/polyfill.min.js" crossorigin="anonymous"></script>
  <!--  For Vue 3 -->
  <script src="../Innovation_files/vue@3.js"></script>
  <!-- Load Vue followed by BootstrapVue -->
  <!-- <script src="https://unpkg.com/vue@latest/dist/vue.min.js"></script>  -->
  <!-- <script src="https://unpkg.com/bootstrap-vue@2.23.0/dist/bootstrap-vue.js"></script> -->

  <!-- Load the following for BootstrapVueIcons support -->
  <!-- <script src="https://unpkg.com/bootstrap-vue@latest/dist/bootstrap-vue-icons.min.js"></script> -->
  <!-- <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script> -->
  <script src="../Innovation_files/bootstrap-vue.min.js"></script>

  <link href="../Innovation_files/vuetify.min.css" rel="stylesheet">
  <script src="../Innovation_files/vuetify.min.js"></script>
  <!--  Vuelidate -->
  <script src="../Innovation_files/vue-demi.js"></script>
  <script src="../Innovation_files/core.js"></script>
  <script src="../Innovation_files/validators.js"></script>

  <script src="../Innovation_files/qrcode.vue.browser.min.js"></script>

  <link href="../Innovation_files/addtohomescreen.css" rel="stylesheet">
<body>
  <div class="ath-container banner-top-center slideInUp animated">
    <div class="ath-banner">
        <div class="ath-banner-cell ath-banner-cell-md">
            <img src="../Innovation_files/images/4.png" alt="PWA" class="ath-prompt-logo" style="
            width: 100px;
        ">
        </div>
        <div class="ath-banner-cell">
            <button class="btn btn-cancel-ath btn-link">Not Now</button>
        </div>
        <div class="ath-banner-title">
            <p>Install this as app?</p>
        </div>
        <div class="ath-banner-cell">
            <button class="btn btn-install-ath btn-success">Install</button>
        </div>
    </div>
</div>
<div class="modal animate fadeIn" tabindex="-1" role="dialog"></div>


<!-- <div class="row d-flex mx-5 my-2 justify-content-end">
    <button class="btn btn-primary btn-clear" onClick="clearToken();">Clear Token</button>
</div> -->
<div class="row m-3">
    <div class="log-target"></div>
</div>

  <!---start-content---->
<div v-cloak class="main__wrapper" id="app">
    
</div>
  <!---//End-content---->
  <!----wookmark-scripts---->

  <!----//wookmark-scripts---->
<!----vue header-scripts---->
  <script src="../Components/Master.js"></script>
  <!----vue components-scripts---->
  <script src="../Components/Header.js"></script>
  <script src="../Components/BodyEdit.js"></script>
  <script src="../Components/Footer.js"></script>
  <!----vue mount-scripts---->
  <script src="../Components/mainEnd.js"></script>
  
  <script src="../Innovation_files/addtohomescreen.js"></script>
  <script src="../Innovation_files/a2hs_prompt.js"></script>
  <script>/*
    if ('serviceWorker' in navigator) {
    navigator.serviceWorker.register('../sw.js', {
        scope: '.' // <--- THIS BIT IS REQUIRED
    }).then(function(registration) {
        // Registration was successful
        console.log('ServiceWorker registration successful with scope: ', registration.scope);
    }, function(err) {
        // registration failed :(
        console.log('ServiceWorker registration failed: ', err);
    });
}*/
  </script>
   <script>
    

    let $btnCancel = document.querySelector( ".btn-cancel-ath" ),
        $btnInstall = document.querySelector( ".btn-install-ath" ),
        $ath_prompt = document.querySelector( ".ath-container" ),
        $a2hs_menu = document.querySelector( ".nav-btn-a2hs" ),
        instance, platform,
        session = {};

    $btnCancel.addEventListener( "click", e => {

        e.preventDefault();

        $ath_prompt.classList.toggle( "d-flex" );

        handleCancel();

        return false;

    } );

    $btnInstall.addEventListener( "click", e => {

        e.preventDefault();

        if ( platform.beforeInstallPrompt ) {
            triggerNativePrompt();
        }

        $ath_prompt.classList.toggle( "d-flex" );

        return false;

    } );

    function handleCancel() {

        //   instance.optOut();

    }

    function handleInstall() {


    }

    function triggerNativePrompt() {

        platform.beforeInstallPrompt.prompt();

        platform.beforeInstallPrompt.userChoice.then( function ( choiceResult ) {

                console.log( choiceResult );

            } )
            .catch( function ( err ) {

                console.error( err.message );

            } );

    }


    if ( "serviceWorker" in navigator ) {

        navigator.serviceWorker.register( "../sw.js" );

        var ath = addToHomescreen( {
            appId: "a2hs-demo-pwa",
            logging: true,
            onCanInstall: function ( p, instance ) {
                console.log( "Platform: ", p );
                console.log( "Instance: ", instance );

                platform = p;

                setTimeout( () => {

                    $ath_prompt.classList.toggle( "d-flex" );

                    $a2hs_menu.classList.toggle( "d-flex" );

                }, 1000 );

            },
            onBeforeInstallPrompt: function ( platform ) {
                console.log( "Platform: ", platform );

            }
        } );

    }
</script>
</body>

</html>